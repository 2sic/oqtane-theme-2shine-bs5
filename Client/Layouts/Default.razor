@namespace ToSic.Oqt.Themes.ToShineBs5.Client
@inherits MyThemeBase
@*
File Purpose:       Core theme file and Default variation
Recommendations:    -
Nice to know:
    - Inherits from ThemeBase, which has some additional logic to make things happen
    - The other theme files inherit from this, and will also use the HTML here
*@
@code
{
    public override string Name => "Default";
    public override string Layout => "Default";
    protected override string BodyClasses => "floatwideheader";
    protected override bool ShowSidebarNavigation => false;
    protected override bool ShowBreadcrumb => true;
}
@* Stop here if Settings are not ready *@
@{ if (Settings == null) return; }

@* Make sure Settings are forwarded to all child controls *@
@* Ensure the Magic Context (page-id, is-home, etc.) is available on the <body> or on a wrapper <div> depending on the config *@
<CascadingValue Value="Settings"><MagicContext>

    @* Show any errors to the admin if something went wrong like when loading settings *@
    <MagicExceptions></MagicExceptions>

    @* Header with logo and navigation etc. *@
    <Header></Header>
    
    @* Header Pane *@
    <div id="@ClassPrefix-page-header-pane" class="container-xxl px-0 @PaneClasses(PaneNameHeader)">
        <Pane Name="@PaneNameHeader"/>
    </div>
    
    @* Main Section *@
    <main id="@ClassPrefix-page-main">

        @* Show Breadcrumb if desired *@
        @if (ShowBreadcrumb)
        {
            <Breadcrumbs></Breadcrumbs>
        }

        @* If we show the Sidebar, then it must be side-by-side with the Content *@
        @if (ShowSidebarNavigation)
        {
            <div class="container">
                <div class="row">
                    <div class='@Classes("sidebar-body")'>
                        <Pane Name="@PaneNameDefault"/>
                        <DynComponentList Components="@DynComponents" Group="@PaneNameDefault"></DynComponentList>
                    </div>
                    <div class='@Classes("sidebar-menu")'>
                        <div id="@ClassPrefix-nav-sub" class="d-none d-sm-block">
                            <Menu ConfigName="@ThemeInfo.MenuSidebar"></Menu>
                        </div>
                    </div>
                </div>
            </div>
        }
        else
        {
            <Pane Name="@PaneNameDefault"/>
            <DynComponentList Components="DynComponents" Group="@PaneNameDefault"></DynComponentList>
        }

        @* TODO: Delete as soon as support in Oqtane 3.2 is here *@
        <Pane Name="@PaneNames.Admin"/>

        <ToTop></ToTop>
    </main>
    <Footer></Footer>
</MagicContext></CascadingValue>