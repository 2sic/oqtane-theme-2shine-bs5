@inherits ToShineMenuBase;

@if (MenuBranch.HasChildren)
{
    <ul class='@MenuBranch.Classes("ul")' data-debug='@MenuBranch.Debug'>
        @foreach(var subBranch in MenuBranch.Children)
        {
            <li class='@subBranch.Classes("li")'>
                <a class='@subBranch.Classes("a")' href='@GetUrl(subBranch)'
                   >@subBranch.Page.Name</a>

                @if (subBranch.HasChildren)
                {
                    <span class='nav-item-sub-opener collapsed'
                          data-bs-toggle='@(subBranch.HasChildren ? "collapse"  : "")' 
                          data-bs-target='@(subBranch.HasChildren ? ".to-shine-submenu-mob-" + subBranch.Page.PageId : "")' 
                    ></span>
                    <MenuMobile MenuBranch="@subBranch"></MenuMobile>
                }
            </li>
        }
    </ul>
}
