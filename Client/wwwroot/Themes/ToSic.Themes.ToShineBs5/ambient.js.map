{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://2sic-standard-skin-template/./src/scripts/ambient/background.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/breadcrumbs.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/mail-encrypt.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/menu.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/pdf-in-new-window.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/to-top.ts","webpack://2sic-standard-skin-template/./src/scripts/shared/constants.ts","webpack://2sic-standard-skin-template/webpack/bootstrap","webpack://2sic-standard-skin-template/webpack/startup"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\r\nconst menu_1 = require(\"./menu\");\r\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\r\nconst to_top_1 = require(\"./to-top\");\r\nrequire(\"./breadcrumbs\");\r\n(0, to_top_1.initToTop)();\r\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\r\n(0, mail_encrypt_1.initMailDecrypt)();\r\n(0, menu_1.initOffCanvasEvents)();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst constants_1 = require(\"../shared/constants\");\r\n/*\r\n  IMPORTANT: this probably doesn't really work\r\n\r\n  I just copied the stuff here from Daias code, but I think it's completely non-functional\r\n\r\n  TODO: @2ro\r\n  - pls fix ;)\r\n  - make sure it's in an export function and called from the background.ts\r\n*/\r\nconst baseName = `${constants_1.prefix}-page-breadcrumb`;\r\nconst baseSelector = `.${baseName}`;\r\nif (constants_1.debug)\r\n    console.log(\"init breadcrumbs - probably doesn't work!\");\r\n// -----------------------------\r\n// Above is DNN below is Oqtane\r\nconst observer = new MutationObserver(mutations => {\r\n    //ToShineBreadcrumbTrigger\r\n    var breadcrumbTrigger = document.querySelector(`${baseSelector}-trigger`);\r\n    // TODO: something is missing here for the breadcrumb-trigger\r\n    //ToShineBreadcrumbTrigger end\r\n});\r\nobserver.observe(document, {\r\n    attributes: true\r\n});\r\n/*Sticky breadcrumbs*/\r\nwindow.addEventListener(\"resize\", breadcrumbsAttributes);\r\ndocument.addEventListener('scroll', breadcrumbsAttributes);\r\nvar counter = 0;\r\nfunction breadcrumbsAttributes() {\r\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\r\n    var headerHeight = header.offsetHeight - 1;\r\n    /*Get header Pane height*/\r\n    var headerPane = document.getElementById(`${constants_1.prefix}-page-header-pane`);\r\n    var headerPaneStyle = getComputedStyle(headerPane);\r\n    var headerPaneHeight = parseInt(headerPaneStyle.height);\r\n    var headerPaneMarginBottom = parseInt(headerPaneStyle.marginTop);\r\n    var headerPaneMarginTop = parseInt(headerPaneStyle.marginBottom);\r\n    var totalHeight = headerPaneMarginBottom + headerPaneMarginTop + headerPaneHeight;\r\n    var breadcrumbs = document.querySelector(`.${baseName}`);\r\n    breadcrumbs.style[\"top\"] = headerHeight + \"px\";\r\n    if (counter == 0 && scrollY > totalHeight) {\r\n        breadcrumbs.classList.add(\"bg-light\", \"shadow\");\r\n        counter = 1;\r\n    }\r\n    if (counter == 1 && scrollY <= totalHeight) {\r\n        breadcrumbs.classList.remove(\"bg-light\", \"shadow\");\r\n        counter = 0;\r\n    }\r\n}\r\ndocument.querySelector(`${baseSelector}-trigger`).addEventListener('click', () => {\r\n    document.querySelector(`${baseSelector}`).classList.toggle(`${baseName}-shortened`);\r\n});\r\nif (document.querySelector(`.${baseName}`) != null) {\r\n    //document.querySelector('.to-shine-page-breadcrumb span a:last-child').classList.add('last');\r\n    //document.querySelector('.to-shine-page-breadcrumb span:last-child').classList.add('last');\r\n    //if (document.querySelector('.to-shine-page-breadcrumb span .to-shine-page-breadcrumb-link:nth-last-child(3)') != null) {\r\n    //    document.querySelector('.to-shine-page-breadcrumb span .to-shine-page-breadcrumb-link:nth-last-child(3)').classList.add('second-last');\r\n    //}\r\n    document\r\n        .querySelector(baseSelector)\r\n        .classList.toggle(`${baseName}-shortened`, (document.querySelector(`${baseSelector}-link`) != null || document.querySelectorAll(`${baseSelector}-link`).length > 2));\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initMailDecrypt = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initMailDecrypt() {\r\n    if (constants_1.debug)\r\n        console.log('initMailDecrypt');\r\n    /* mailencrypting */\r\n    setTimeout(function () {\r\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\r\n        mailElement.forEach((mail, index) => {\r\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\r\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\r\n            const a = document.createElement('a');\r\n            a.setAttribute('href', `mailto:${maddr}`);\r\n            a.innerHTML = linktext;\r\n            if (mail.parentElement)\r\n                mail.parentElement.appendChild(a);\r\n            mail.classList.add('madr-done');\r\n            mail.style.display = 'none';\r\n        });\r\n    }, 500);\r\n}\r\nexports.initMailDecrypt = initMailDecrypt;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initOffCanvasEvents = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// TODO: I (2dm) turned this off, as it appears to be completely not needed\r\n// @2ro pls verify\r\nfunction initOffCanvasEvents() {\r\n    return;\r\n    if (constants_1.debug)\r\n        console.log('initOffCanvasEvents');\r\n    //Offcanvas close on link click\r\n    var links = document.querySelectorAll(\".mobile-navigation-link\");\r\n    var myOffcanvas = document.getElementById('offcanvasNavbar');\r\n    var bsOffcanvas = new bootstrap.Offcanvas(myOffcanvas);\r\n    links.forEach(element => {\r\n        element.addEventListener('click', () => {\r\n            bsOffcanvas.hide();\r\n        });\r\n    });\r\n}\r\nexports.initOffCanvasEvents = initOffCanvasEvents;\r\n","\"use strict\";\r\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\r\n// will probably need to be moved to the interop and called on every reload\r\n// or use a timeout similar to mail-decrypt\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.openPdfInNewWindow = void 0;\r\n/* Open all PDF links in a new window */\r\nfunction openPdfInNewWindow() {\r\n    document.querySelectorAll('a').forEach((linkElem, index) => {\r\n        if (linkElem.hasAttribute('href') && linkElem.getAttribute('href').endsWith('.pdf')) {\r\n            linkElem.setAttribute('target', '_blank');\r\n        }\r\n    });\r\n}\r\nexports.openPdfInNewWindow = openPdfInNewWindow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initToTop = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nconst toTopElementId = `${constants_1.prefix}-to-top`;\r\nconst visibleClass = `${constants_1.prefix}-top-visible`;\r\nfunction initToTop() {\r\n    console.log('init to top');\r\n    toTopShowHideOnScroll();\r\n}\r\nexports.initToTop = initToTop;\r\nfunction toTopShowHideOnScroll() {\r\n    if (constants_1.debug)\r\n        console.log('toTopShowHideOnScroll');\r\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\r\n}\r\nfunction toTopButtonVisibility() {\r\n    var toTopButton = document.getElementById(toTopElementId);\r\n    if (!toTopButton)\r\n        return;\r\n    // Ensure it has the event listener\r\n    toTopButton.addEventListener(\"click\", scrollTop);\r\n    // Todo: unsure why it does body + documentElement...\r\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\r\n    if (constants_1.debugDetailed)\r\n        console.log('to-top' + show ? \"show\" : \"hide\");\r\n    if (show)\r\n        toTopButton.classList.add(visibleClass);\r\n    else\r\n        toTopButton.classList.remove(visibleClass);\r\n}\r\nfunction scrollTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\r\nexports.debug = true;\r\nexports.debugDetailed = exports.debug && false;\r\nexports.prefix = 'theme';\r\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(565);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(693);\n__webpack_require__(77);\n__webpack_require__(231);\n__webpack_require__(758);\nvar __webpack_exports__ = __webpack_require__(657);\n"],"names":["mail_encrypt_1","menu_1","pdf_in_new_window_1","to_top_1","initToTop","openPdfInNewWindow","initMailDecrypt","initOffCanvasEvents","Object","defineProperty","exports","value","constants_1","baseName","prefix","baseSelector","debug","console","log","MutationObserver","mutations","document","querySelector","observe","attributes","window","addEventListener","breadcrumbsAttributes","counter","headerHeight","getElementById","offsetHeight","headerPane","headerPaneStyle","getComputedStyle","headerPaneHeight","parseInt","height","totalHeight","marginTop","marginBottom","breadcrumbs","style","scrollY","classList","add","remove","toggle","querySelectorAll","length","setTimeout","forEach","mail","index","maddr","getAttribute","linktext","a","createElement","setAttribute","innerHTML","parentElement","appendChild","display","linkElem","hasAttribute","endsWith","toTopElementId","visibleClass","toTopButtonVisibility","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","top","behavior","prefixBreadcrumbs","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}