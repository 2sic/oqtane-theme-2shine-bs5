{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://2sic-standard-skin-template/./src/scripts/ambient/background.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/breadcrumbs.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/mail-encrypt.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/menu.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/pdf-in-new-window.ts","webpack://2sic-standard-skin-template/./src/scripts/ambient/to-top.ts","webpack://2sic-standard-skin-template/./src/scripts/shared/constants.ts","webpack://2sic-standard-skin-template/webpack/bootstrap","webpack://2sic-standard-skin-template/webpack/startup"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\r\nconst menu_1 = require(\"./menu\");\r\nconst breadcrumbs_1 = require(\"./breadcrumbs\");\r\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\r\nconst to_top_1 = require(\"./to-top\");\r\n(0, to_top_1.initToTop)();\r\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\r\n(0, mail_encrypt_1.initMailDecrypt)();\r\n(0, breadcrumbs_1.initBreadcrumb)();\r\n(0, menu_1.initOffCanvasEvents)();\r\n// activateGtm('GTM-XYZ');\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initBreadcrumb = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initBreadcrumb() {\r\n    if (constants_1.debug)\r\n        console.log(\"init breadcrumbs\");\r\n    setBreadcrumbsStyling();\r\n    window.addEventListener(\"resize\", setBreadcrumbsStyling);\r\n    document.addEventListener('scroll', setBreadcrumbsStyling);\r\n    var breadCrumbTrigger = document.querySelector(`.${constants_1.prefixBreadcrumbs}-trigger`);\r\n    if (breadCrumbTrigger != null) {\r\n        breadCrumbTrigger.addEventListener('click', () => {\r\n            console.log(document.querySelector(`.${constants_1.prefixBreadcrumbs}`));\r\n            document.querySelector(`.${constants_1.prefixBreadcrumbs}`).classList.toggle(`${constants_1.prefixBreadcrumbs}-open`);\r\n        });\r\n    }\r\n}\r\nexports.initBreadcrumb = initBreadcrumb;\r\nfunction setBreadcrumbsStyling() {\r\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\r\n    if (header != null) {\r\n        var headerHeight = header.offsetHeight;\r\n        var breadcrumbs = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\r\n        breadcrumbs.style.top = headerHeight + \"px\";\r\n        var breadcrumbsOffsetTop = breadcrumbs.getBoundingClientRect().top;\r\n        if (breadcrumbsOffsetTop <= headerHeight && scrollY != 0) {\r\n            breadcrumbs.classList.add(\"bg-light\", \"shadow\");\r\n        }\r\n        else {\r\n            breadcrumbs.classList.remove(\"bg-light\", \"shadow\");\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initMailDecrypt = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initMailDecrypt() {\r\n    if (constants_1.debug)\r\n        console.log('initMailDecrypt');\r\n    /* mailencrypting */\r\n    setTimeout(function () {\r\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\r\n        mailElement.forEach((mail, index) => {\r\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\r\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\r\n            const a = document.createElement('a');\r\n            a.setAttribute('href', `mailto:${maddr}`);\r\n            a.innerHTML = linktext;\r\n            if (mail.parentElement)\r\n                mail.parentElement.appendChild(a);\r\n            mail.classList.add('madr-done');\r\n            mail.style.display = 'none';\r\n        });\r\n    }, 500);\r\n}\r\nexports.initMailDecrypt = initMailDecrypt;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initOffCanvasEvents = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Takes care of closing the offcanvas when clicking on a navigation link\r\n// The page is not reloaded, so the offcanvas does not close\r\nfunction initOffCanvasEvents() {\r\n    if (constants_1.debug)\r\n        console.log('initOffCanvasEvents');\r\n    //Offcanvas close on link click\r\n    var navLinks = document.querySelectorAll(\".mobile-navigation-link\");\r\n    var navOffcanvas = document.getElementById('offcanvasNavbar');\r\n    var bsNavOffcanvas = new bootstrap.Offcanvas(navOffcanvas);\r\n    navLinks.forEach(element => {\r\n        element.addEventListener('click', () => {\r\n            bsNavOffcanvas.hide();\r\n        });\r\n    });\r\n}\r\nexports.initOffCanvasEvents = initOffCanvasEvents;\r\n","\"use strict\";\r\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\r\n// will probably need to be moved to the interop and called on every reload\r\n// or use a timeout similar to mail-decrypt\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.openPdfInNewWindow = void 0;\r\n/* Open all PDF links in a new window */\r\nfunction openPdfInNewWindow() {\r\n    document.querySelectorAll('a').forEach((linkElem, index) => {\r\n        if (linkElem.hasAttribute('href') && linkElem.getAttribute('href').endsWith('.pdf')) {\r\n            linkElem.setAttribute('target', '_blank');\r\n        }\r\n    });\r\n}\r\nexports.openPdfInNewWindow = openPdfInNewWindow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initToTop = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nconst toTopElementId = `${constants_1.prefix}-to-top`;\r\nconst visibleClass = `visible`;\r\nfunction initToTop() {\r\n    console.log('init to top');\r\n    toTopShowHideOnScroll();\r\n}\r\nexports.initToTop = initToTop;\r\nfunction toTopShowHideOnScroll() {\r\n    if (constants_1.debug)\r\n        console.log('toTopShowHideOnScroll');\r\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\r\n}\r\nfunction toTopButtonVisibility() {\r\n    var toTopButton = document.getElementById(toTopElementId);\r\n    if (!toTopButton)\r\n        return;\r\n    // Ensure it has the event listener\r\n    toTopButton.addEventListener(\"click\", scrollTop);\r\n    // Todo: unsure why it does body + documentElement...\r\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\r\n    if (constants_1.debugDetailed)\r\n        console.log('to-top' + show ? \"show\" : \"hide\");\r\n    if (show)\r\n        toTopButton.classList.add(visibleClass);\r\n    else\r\n        toTopButton.classList.remove(visibleClass);\r\n}\r\nfunction scrollTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.prefixLanguages = exports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\r\nexports.debug = true;\r\nexports.debugDetailed = exports.debug && false;\r\nexports.prefix = 'theme';\r\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\r\nexports.prefixLanguages = `${exports.prefix}-languages`;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(565);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(693);\n__webpack_require__(227);\n__webpack_require__(77);\n__webpack_require__(231);\n__webpack_require__(758);\nvar __webpack_exports__ = __webpack_require__(657);\n"],"names":["mail_encrypt_1","menu_1","breadcrumbs_1","pdf_in_new_window_1","initToTop","openPdfInNewWindow","initMailDecrypt","initBreadcrumb","initOffCanvasEvents","Object","defineProperty","exports","value","constants_1","setBreadcrumbsStyling","header","document","getElementById","prefix","headerHeight","offsetHeight","breadcrumbs","querySelector","prefixBreadcrumbs","style","top","getBoundingClientRect","scrollY","classList","add","remove","debug","console","log","window","addEventListener","breadCrumbTrigger","toggle","setTimeout","querySelectorAll","forEach","mail","index","maddr","getAttribute","linktext","a","createElement","setAttribute","innerHTML","parentElement","appendChild","display","navLinks","navOffcanvas","bsNavOffcanvas","bootstrap","Offcanvas","element","hide","linkElem","hasAttribute","endsWith","toTopElementId","visibleClass","toTopButtonVisibility","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","behavior","prefixLanguages","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}