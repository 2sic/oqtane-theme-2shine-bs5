@*
File Purpose:       Special Component to add dynamic list of components to a Oqtane Pane
Recommendations:    -
Nice to know:       Mainly used for testing / development. 
*@
@code {
    [Parameter]
    public List<DynComponent>? Components { get; set; }

    [Parameter, EditorRequired]
    public string? Group { get; set; }

    private List<(Type Type, Dictionary<string, object> Parameters)> MyComponents()
    {
        if (_cache != null) return _cache;
        if (Components == null) return _cache = new();
        return _cache = Components
            .FindAll(c => c.Group == Group)
            .Select(set => (set.Type, set.Parameters ?? new()))
            .ToList();
    }

    private List<(Type Type, Dictionary<string, object> Parameters)>? _cache;
}
@if (MyComponents()?.Any() == true)
{
    @foreach (var c in MyComponents())
    {
        <DynamicComponent Type="@c.Type" Parameters="@c.Parameters"></DynamicComponent>
    }
}